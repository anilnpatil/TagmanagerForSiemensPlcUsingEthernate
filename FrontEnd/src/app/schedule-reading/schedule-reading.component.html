
<!-- <div class="schedule-reading-container">
  <div class="header">
    <h2>
      Read Tags for Connection: {{ connection?.name }} ({{ connection?.ipAddress }}) (Every {{ interval }}s)
    </h2>
    <div class="header-controls">
      <button class="back-button" (click)="goBack()">Back</button>
      <div class="status-indicator">
        <div class="led" [ngClass]="{
          'led-idle': saveStatus === 'idle',
          'led-saving': saveStatus === 'saving',
          'led-success': saveStatus === 'success',
          'led-error': saveStatus === 'error'
        }"></div>
        <-- <span class="status-message">{{ saveStatusMessage }}</span> -
      </div>
    </div>
  </div>

  <div class="content">
    <-- Rest of your existing content remains the same --
    <div *ngIf="loading" class="loading-state">
      <div class="spinner"></div>
      <p>Loading tag values...</p>
    </div>

    <div *ngIf="!loading && errorMessage" class="error-state">
      <div class="error-icon">⚠️</div>
      <h3>Error Reading Tag Values</h3>
      <p>{{ errorMessage }}</p>
    </div>

    <div *ngIf="!loading && !errorMessage && tagValues.length > 0" class="tag-table-container">
      <table class="tag-table">
        <thead>
          <tr>
            <th>Tag Name</th>
            <th>Value</th>
            <th>Timestamp</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let tagValue of tagValues">
            <td>{{ tagValue.tag }}</td>
            <td>{{ tagValue.value }}</td>
            <td>{{ tagValue.timestamp | date:'mediumTime' }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div *ngIf="!loading && !errorMessage && tagValues.length === 0" class="empty-state">
      <div class="empty-icon">ℹ️</div>
      <p>No tag values found.</p>
    </div>
  </div>

  <div class="footer-controls">
    <span *ngIf="lastUpdated">Last Updated: {{ lastUpdated | date:'shortTime' }}</span>
  </div>
</div> -->


<div class="schedule-reading-container">
  <div class="header">
    <h2>
      Read Tags for Connection: {{ connection?.name }} ({{ connection?.ipAddress }}) (Every {{ interval }}s)
    </h2>
    <div class="header-controls">
      <button class="back-button" (click)="goBack()">Back</button>
      <div class="status-indicator">
        <div class="led" [ngClass]="{
          'led-idle': saveStatus === 'idle',
          'led-saving': saveStatus === 'saving',
          'led-success': saveStatus === 'success',
          'led-error': saveStatus === 'error'
        }"></div>
      </div>
    </div>
  </div>

  <div class="content">
    <div *ngIf="loading" class="loading-state">
      <div class="spinner"></div>
      <p>Loading tag values...</p>
    </div>

    <div *ngIf="!loading && errorMessage" class="error-state">
      <div class="error-icon">⚠️</div>
      <h3>Error Reading Tag Values</h3>
      <p>{{ errorMessage }}</p>
    </div>

    <div *ngIf="!loading && !errorMessage && tagValues.length > 0" class="tag-table-container">
      <div class="table-wrapper">
        <table class="tag-table">
          <thead>
            <tr>
              <th>Tag Name</th>
              <th>Value</th>
              <th>Timestamp</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let tagValue of tagValues">
              <td>{{ tagValue.tag }}</td>
              <td>{{ tagValue.value }}</td>
              <td>{{ tagValue.timestamp | date:'mediumTime' }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div *ngIf="!loading && !errorMessage && tagValues.length === 0" class="empty-state">
      <div class="empty-icon">ℹ️</div>
      <p>No tag values found.</p>
    </div>
  </div>

  <div class="footer-controls">
    <span *ngIf="lastUpdated">Last Updated: {{ lastUpdated | date:'shortTime' }}</span>
  </div>
</div>
